# eBay E2E Automation Project
היי! זהו פרויקט אוטומציה מבוסס Playwright (Python) 
 לביצוע תרחיש רכישה מלא ב-eBay.
הפרויקט ממומש במודל POM (Page Object Model) ותומך ב-Data-Driven Testing.
התמודדות עם אתרי מסחר מורכבים וניהול נתונים חכם.


## מה הפרויקט עושה?
הסקריפט מריץ תרחיש מלא שבו הוא:

טוען נתוני חיפוש ותקציב מקובץ JSON חיצוני.

מחפש מוצרים תחת מגבלת מחיר ומסנן תוצאות רלוונטיות בלבד.

מתמודד עם Variations (בחירת מידה/צבע) בצורה דינמית בתוך דף המוצר.

מוודא בסוף התהליך שהסכום הכולל בסל לא חורג מהתקציב שהוגדר.

##  טכנולוגיות וכלים 

Playwright (Async): בחרתי בעבודה אסינכרונית כדי למקסם ביצועים ולנהל מספר טאבים במקביל.

Pytest: לניהול הטסטים והרצה עם פרמטרים (DDT).

Allure Reports: להפקת דוחות גרפיים הכוללים צילומי מסך ושלבי עבודה ברורים.

Page Object Model (POM): הפרדה מוחלטת בין הלוגיקה של הדפים לבין הטסטים עצמם.

ארכיטקטורה (High-Level)##

הפרויקט בנוי במודל Page Object Model (POM) כדי להפריד בין הלוגיקה של דפי האתר לבין בדיקות ה-E2E:

BasePage: מכיל פעולות תשתית משותפות.

SearchPage: אחראי על חיפוש, סינון מחירים ואיסוף URLs.

CartPage: מנהל את הסל, בחירת וריאציות ואימות מחיר סופי.

Data Driven: הנתונים (שם מוצר, תקציב, כמות) נטענים מקובץ JSON חיצוני להפרדה מלאה בין קוד לנתונים.


מבנה התיקיות##

pages/ - מכיל את מחלקות ה-POM (Search, Cart, Base).

tests/ - תרחישי הבדיקה עצמם.

data/ - קבצי נתונים (JSON).

reports/ - צילומי מסך ו-Trace files של הרצות קודמות.

conftest.py - הגדרות ה-Fixture והקמת הדפדפן.



## החלטות ארכיטקטוניות 
התמודדות עם בוטים: eBay הוא אתר "קשוח". השתמשתי ב-User-Agent מותאם ובמנגנון של storage_state (קובץ auth.json) כדי לעקוף חסימות ולשמור על Session מחובר.

בחירת מוצרים דינמית: במקום לחפש מוצר ספציפי, הקוד יודע להתמודד עם תפריטי בחירה (Dropdowns) משתנים – הוא מזהה אופציות זמינות ובוחר אחת באקראי.

חוסן (Robustness): הוספתי המתנות חכמות (Smart Waits) וטיפול במקרה של CAPTCHA, כדי שהטסט לא ייפול על איטיות רשת רגעית.

מגבלות והנחות יסוד 
כדי להבטיח יציבות מול מנגנוני ההגנה של eBay, הפרויקט מתבסס על ההנחות הבאות:

מנגנון Login: הפרויקט לא מבצע Login אוטומטי בכל הרצה (כדי למנוע חסימות CAPTCHA). במקום זאת, יש להריץ פעם אחת את הקובץ generate_auth.py שמבצע התחברות ושומר את ה-Session לקובץ auth.json. הטסט משתמש בקובץ זה כדי להתחיל את הבדיקה במצב מחובר.

ניהול מטבע: הבדיקה מניחה שהגדרות החשבון/דפדפן הן בשקל ישראלי (ILS). פונקציית ה-Extraction יודעת לנקות סימני מטבע, אך ההשוואה הלוגית מתבצעת מול הערך המספרי שמופיע באתר.

וריאציות מוצר: הקוד מניח שבמוצרים עם בחירה (Size/Color), ניתן לבחור אופציה רנדומלית מתוך הרשימה הזמינה כדי להמשיך לסל.
בנוסף הקוד מניח שיש עד 3 בחירות לבצע.


## איך מריצים?
Python דרישות מקדימות: 
1. התקנת דרישות: `pip install -r requirements.txt`
 Playwright: `playwright instal`
playwright install chromium
2.
יצירת Session (חד-פעמי): יש להריץ את הקובץ שישמור את פרטי ההתחברות שלך:
python generate_auth.py


3. עדכנו את הקובץ data/test_data.json עם המוצרים והתקציב שתרצו לבדוק.

4. הרצת הטסט
pytest --alluredir=reports/allure-results

לצפייה בדו"ח Allure:

allure serve reports/allure-results

לצפייה בדו"ח הTrace :

בסיום הריצה נוצר קובץ reports/trace.zip.
ניתן לגרור אותו לאתר trace.playwright.dev ולראות הקלטה מלאה של הריצה.

תהנו.